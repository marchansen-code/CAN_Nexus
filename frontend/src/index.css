@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=JetBrains+Mono:wght@100..800&family=Open+Sans:wght@300..800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* CANUSA Brand Colors */
        --canusa-red: 0 84% 50%;
        --canusa-dark-blue: 210 50% 20%;
        --canusa-light-blue: 200 65% 45%;
        --canusa-orange: 30 95% 55%;
        --canusa-green: 145 60% 40%;
        
        --background: 0 0% 98%;
        --foreground: 210 50% 15%;
        --card: 0 0% 100%;
        --card-foreground: 210 50% 15%;
        --popover: 0 0% 100%;
        --popover-foreground: 210 50% 15%;
        --primary: 0 84% 50%;
        --primary-foreground: 0 0% 100%;
        --secondary: 210 30% 95%;
        --secondary-foreground: 210 50% 15%;
        --muted: 210 30% 96%;
        --muted-foreground: 210 20% 45%;
        --accent: 210 30% 96%;
        --accent-foreground: 210 50% 15%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;
        --border: 210 25% 90%;
        --input: 210 25% 90%;
        --ring: 0 84% 50%;
        --chart-1: 0 84% 50%;
        --chart-2: 200 65% 45%;
        --chart-3: 145 60% 40%;
        --chart-4: 30 95% 55%;
        --chart-5: 210 50% 20%;
        --radius: 0.5rem;
    }
}

body {
    margin: 0;
    font-family: 'Open Sans', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
}

h1, h2, h3, h4, h5, h6 {
    font-family: 'Open Sans', sans-serif;
    font-weight: 700;
}

code, pre {
    font-family: 'JetBrains Mono', source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;
}

@layer base {
    * {
        @apply border-border;
    }
}

@layer utilities {
    .canusa-gradient {
        background: linear-gradient(135deg, hsl(0 84% 50%) 0%, hsl(30 95% 55%) 100%);
    }
    
    .canusa-red {
        color: hsl(0 84% 50%);
    }
    
    .bg-canusa-red {
        background-color: hsl(0 84% 50%);
    }
    
    .bg-canusa-dark-blue {
        background-color: hsl(210 50% 20%);
    }
    
    .text-canusa-dark-blue {
        color: hsl(210 50% 20%);
    }
    
    .status-draft {
        @apply bg-slate-100 text-slate-700 border-slate-200;
    }
    
    .status-review {
        @apply bg-amber-50 text-amber-700 border-amber-200;
    }
    
    .status-published {
        @apply bg-emerald-50 text-emerald-700 border-emerald-200;
    }
    
    .glass-header {
        @apply bg-white/80 backdrop-blur-xl border-b border-slate-200/50;
    }
    
    .shadow-subtle {
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.04);
    }
    
    .shadow-float {
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    }
    
    .presence-indicator {
        @apply w-3 h-3 rounded-full animate-pulse;
    }
}

/* Smooth transitions */
.transition-smooth {
    transition: all 0.2s ease-out;
}

/* Focus states with CANUSA red */
input:focus, textarea:focus, select:focus {
    --tw-ring-color: hsl(0 84% 50%);
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
}

/* Animation keyframes */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}

@keyframes pulse-presence {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

.animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
}

.animate-slideInRight {
    animation: slideInRight 0.3s ease-out;
}

.animate-pulse-presence {
    animation: pulse-presence 2s ease-in-out infinite;
}

/* Prose styling for articles */
.prose-knowledge {
    @apply text-foreground leading-7;
}

.prose-knowledge h1 {
    @apply text-3xl font-bold tracking-tight mb-4 mt-8;
}

.prose-knowledge h2 {
    @apply text-2xl font-semibold tracking-tight mb-3 mt-6;
}

.prose-knowledge h3 {
    @apply text-xl font-semibold mb-2 mt-4;
}

.prose-knowledge p {
    @apply mb-4;
}

.prose-knowledge ul, .prose-knowledge ol {
    @apply mb-4 pl-6;
}

.prose-knowledge li {
    @apply mb-2;
}

.prose-knowledge code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm;
}

.prose-knowledge pre {
    @apply bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto mb-4;
}

.prose-knowledge blockquote {
    @apply border-l-4 border-red-500 pl-4 italic text-muted-foreground;
}

/* Tree navigation styles */
.tree-item {
    @apply transition-colors duration-150;
}

.tree-item:hover {
    @apply bg-muted/50;
}

.tree-item.active {
    @apply bg-red-50 text-red-700 border-l-2 border-red-500;
}

/* TipTap Editor Styles */
.ProseMirror {
    outline: none;
    min-height: 300px;
}

.ProseMirror p.is-editor-empty:first-child::before {
    color: #adb5bd;
    content: attr(data-placeholder);
    float: left;
    height: 0;
    pointer-events: none;
}

.ProseMirror table {
    border-collapse: collapse;
    width: 100%;
    margin: 1rem 0;
}

.ProseMirror td, .ProseMirror th {
    border: 1px solid #e2e8f0;
    padding: 0.5rem;
    min-width: 100px;
}

.ProseMirror th {
    background: #f1f5f9;
    font-weight: 600;
}

.ProseMirror img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
}

.ProseMirror mark {
    background-color: #fef08a;
}
